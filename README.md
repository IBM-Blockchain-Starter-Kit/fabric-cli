# Overview
The fabric-cli project is a Node.js application written using TypeScript, with the aim of making chaincode deployment simple.


## Configuring the cli
---

1. Go to root directory of project
2. Run `npm install`
3. Run `npm run build` to compile from TS into JS
4. Run `chmod +x fabric-cli.js` to make the file executable
5. Run the command `npm link`
6. Run the command `fabric-cli --version` to confirm the command is available from the cli
   
Note: Remember to run `npm unlink` once done to keep `npm` clean!


## Example uses
---

Currently the following commands are implemented:

### Install Chaincode


```
fabric-cli chaincode install

Install chaincode

Options:
  --version     Show version number                                    [boolean]
  --help        Show help                                              [boolean]
  --net-config  Absolute path for network config file based on  FAB-5363 format
                                                             [string] [required]
  --org         Name of org stanza in the network-config file that contains the
                peers where the chaincode should be installed[string] [required]
  --crypto-dir  Absolute path for crypto material as generated by cryptogen tool
                                                             [string] [required]
  --cc-name     Name for the chaincode to install            [string] [required]
  --cc-version  The version that will be assigned to the chaincode to install
                                                             [string] [required]
  --cc-type     The langauge in which your chaincode is written, default=golang.
                                    [string] [choices: "golang", "java", "node"]
  --src-dir     Relative path where the chaincode is located with respect to
                GOPATH/src                                   [string] [required]
               
Example:
node fabric-cli.js chaincode install --net-config /Users/jorgedr/Documents/visual-workspaces/ccInstallation/app/network-config.json --crypto-dir /Users/jorgedr/Documents/visual-workspaces/ccInstallation/artifacts/channel/crypto-config --cc-name ping8 --src-dir chaincode  --org org1 --cc-version 1.0 --channel channel1

```

### Instantiate chaincode

```
fabric-cli chaincode instantiate

Instantiate chaincode

Options:
  --version             Show version number                            [boolean]
  --help                Show help                                      [boolean]
  --net-config          Absolute path for network config file based on  FAB-5363
                        format                               [string] [required]
  --org                 Name of org stanza in the network-config file that
                        contains the peers where the chaincode should be
                        installed                            [string] [required]
  --crypto-dir          Absolute path for crypto material as generated by
                        cryptogen tool                       [string] [required]
  --cc-name             Name for the chaincode to instantiate[string] [required]
  --cc-version          The version of chaincode to instantiate
                                                             [string] [required]
  --cc-type             The langauge in which your chaincode is written,
                        default=golang.
                                    [string] [choices: "golang", "java", "node"]
  --channel             Name of the channel to instantiate chaincode
                                                             [string] [required]
  --init-function       Function to call on instantiation call.
                                                      [string] [default: "init"]
  --init-args            Value(s) to pass as argument to instantiation call.
                                                           [array] [default: []]
  --timeout             Specify number of milliseconds to wait on the response
                        before rejecting.             [number] [default: 120000]
  --endorsement-policy  The endorsement policy for the chaincode (this is an
                        optional parameter).            [string] [default: null]
  
Example:
node fabric-cli.js chaincode instantiate --net-config /Users/jorgedr/Documents/visual-workspaces/ccInstallation/app/network-config.json --crypto-dir /Users/jorgedr/Documents/visual-workspaces/ccInstallation/artifacts/channel/crypto-config --cc-name ping6  --org org1 --cc-version 1.0 --channel channel1 --init-args arg1 arg2 arg3 
  ```


### Invoke chaincode


```
fabric-cli chaincode invoke

Invoke a transaction in the chaincode

Options:
  --version      Show version number                                   [boolean]
  --help         Show help                                             [boolean]
  --net-config   Absolute path for network config file based on  FAB-5363 format
                                                             [string] [required]
  --org          Name of org stanza in the network-config file that contains the
                 peers where the chaincode should be installed
                                                             [string] [required]
  --crypto-dir   Absolute path for crypto material as generated by cryptogen
                 tool                                        [string] [required]
  --cc-name      Name for the chaincode to invoke            [string] [required]
  --channel      Name of the channel to invoke chaincode     [string] [required]
  --invoke-fn    Name of the function to invoke in chaincode [string] [required]
  --invoke-args  Space separated list of arguments to pass into the invoked
                 function                                  [array] [default: []]
  --query        Specify if this invocation is just a query to the ledger
                                                      [boolean] [default: false]
  --timeout      Specify number of milliseconds to wait on the response before
                 rejecting                            [number] [default: 120000]

```